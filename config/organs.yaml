# Smart Habitat Organism Configuration (SeedCore v2)
# ---------------------------------------------------
# Defines the organs of the Habitat AI Organism.
# Each organ represents an autonomous subsystem composed of specialized agent clusters.

seedcore:
  organism:
    # --- Returned as 'global_settings' ---
    settings:
      tunnel_threshold: 0.85
      tunnel_intents: ["clarify", "debug"]

    organs:
      # =============================================================
      #  USER EXPERIENCE & INTERACTION ORGAN
      # =============================================================
      # Handles user-facing intelligence: dialog, mood inference,
      # personalization, and preference modeling.
      - id: "user_experience_organ"
        description: "User dialog, mood inference, preference management."
        agents:
          - specialization: "USER_LIAISON"
            count: 1
          - specialization: "MOOD_INFERENCE_AGENT"
            count: 1
          - specialization: "SCHEDULE_ORACLE"
            count: 0
          - specialization: "PREFERENCE_MODEL"
            count: 0

      # =============================================================
      #  ENVIRONMENT UNDERSTANDING ORGAN
      # =============================================================
      # Responsible for situational awareness, world modeling,
      # anomaly detection, forecasting, and safety interpretation.
      - id: "environment_intelligence_organ"
        description: "World modeling, predictions, anomalies, emergency detection."
        agents:
          - specialization: "ENVIRONMENT_MODEL"
            count: 1
          - specialization: "ANOMALY_DETECTOR"
            count: 0
          - specialization: "FORECASTER"
            count: 0
          - specialization: "SAFETY_MONITOR"
            count: 0

      # =============================================================
      #  DEVICE & ROBOT ORCHESTRATION ORGAN
      # =============================================================
      # Manages all device-level and robot-level coordination,
      # including energy optimization and task assignment.
      - id: "orchestration_organ"
        description: "Device control, robot task coordination, energy optimization."
        agents:
          - specialization: "DEVICE_ORCHESTRATOR"
            count: 1
          - specialization: "ROBOT_COORDINATOR"
            count: 1
          - specialization: "HVAC_CONTROLLER"
            count: 1
          - specialization: "LIGHTING_CONTROLLER"
            count: 0
          - specialization: "ENERGY_MANAGER"
            count: 0
          - specialization: "CLEANING_MANAGER"
            count: 0
          - specialization: "SECURITY_DRONE_MANAGER"
            count: 0
          - specialization: "MAINTENANCE_MANAGER"
            count: 0

      # =============================================================
      #  ROBOT EXECUTION ORGAN (PHYSICAL ACTUATION)
      # =============================================================
      # Contains the physical actuation layer: robots, drones, and
      # mobile units that execute tasks in the real environment.
      - id: "robot_execution_organ"
        description: "Autonomous physical robots: movement, cleaning, delivery."
        agents:
          - specialization: "CLEANING_ROBOT"
            count: 1
          - specialization: "DELIVERY_ROBOT"
            count: 0
          - specialization: "SECURITY_DRONE"
            count: 0
          - specialization: "INSPECTION_ROBOT"
            count: 0

      # =============================================================
      #  VERIFICATION & FEEDBACK ORGAN
      # =============================================================
      # Performs real-world validation, quality assurance, and
      # integrates feedback signals back into the organism.
      - id: "verification_organ"
        description: "Real-world verification, QA, feedback integration."
        agents:
          - specialization: "ENVIRONMENT_VERIFIER"
            count: 1
          - specialization: "RESULT_VALIDATOR"
            count: 0
          - specialization: "FEEDBACK_INTEGRATOR"
            count: 0

      # =============================================================
      #  LEARNING & ADAPTATION ORGAN
      # =============================================================
      # Drives continuous improvement: learning from experience,
      # analyzing failures, refining plans, and self-correcting.
      - id: "learning_organ"
        description: "Continuous adaptation, strategy optimization, self-correction."
        agents:
          - specialization: "CRITIC"
            count: 1
          - specialization: "ADAPTIVE_LEARNER"
            count: 1
          - specialization: "FAILURE_ANALYZER"
            count: 0
          - specialization: "PLAN_REFINER"
            count: 0

      # =============================================================
      #  SPECIALIST & PREDEVELOPED ORGAN
      # =============================================================
      # Hosts pre-built or prototype agents used for testing,
      # debugging, and rapid insertion of new experimental roles.
      - id: "utility_organ"
        description: "Specialized agents for pre-development and experimentation."
        agents:
          - specialization: "OBSERVER"
            count: 1
            class: "ObserverAgent"
          - specialization: "UTILITY"
            count: 1
            class: "UtilityLearningAgent"
          - specialization: "GENERALIST"
            count: 1

    # =============================================================
    #  2. FUNCTIONAL LAYER — VIRTUAL NETWORK OVERLAY (ENERGY BONDS)
    # =============================================================

    topology:
      # --- Strong Functional Couplings (Agent-to-Agent Clusters)
      strong_pairs:
        - agents: ["USER_LIAISON", "SCHEDULE_ORACLE"]
          weight: 0.9
          description: "Calendar negotiation pipeline"

        - agents: ["ENVIRONMENT_MODEL", "FORECASTER"]
          weight: 0.85
          description: "World state → predictive model"

        - agents: ["DEVICE_ORCHESTRATOR", "ENERGY_MANAGER"]
          weight: 0.95
          description: "Energy-aware device actuation"

      # --- Cross-Organ Integration Bonds
      cross_organ_bonds:
        - agents: ["USER_LIAISON", "DEVICE_ORCHESTRATOR"]
          weight: 0.7
          description: "User → device execution loop"

        - agents: ["ANOMALY_DETECTOR", "SAFETY_MONITOR"]
          weight: 0.8
          description: "Safety-awareness loop"

      # --- Optional: Learning-driven bonds (seeded statically)
      learned_bonds:
        - agents: ["CRITIC", "ADAPTIVE_LEARNER"]
          weight: 0.65
          description: "Reinforcement-learning policy update"

      # --- Global defaults
      defaults:
        min_weight_threshold: 0.1
        symmetry: true # If true → W[i,j] = W[j,i]
        max_partners: 4 # Prevent endless cascade
        seed_missing_agents: true
